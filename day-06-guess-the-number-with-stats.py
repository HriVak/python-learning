# day-06-guess-the-number-with-stats.py
import random

print("ПОЗНАЙ ЧИСЛОТО + СТАТИСТИКА!")
print("Число от 1 до 100, максимум 7 опита!\n")

тайно_число = random.randint(1, 100)
всички_догадки = []     # ← ТУК СЪХРАНЯВАМЕ ВСИЧКИ ОПИТИ!
максимум_опити = 7
опити = 0

while опити < максимум_опити:
    опити +=1

    while True:
        вход = input(f"Опит {опити} / {максимум_опити} → Твоята догадка: ")
        try:
            догадка = int(вход)
            всички_догадки.append(догадка)      # ← добавяме всяка догадка в списъка
            break
        except ValueError:
            print("Въведи само цяло число!")

    if догадка < тайно_число:
        print("По-голямо число!")
    elif догадка > тайно_число:
        print("По-малко число!")
    else:
        print(f"\nБРАВО! Позна за {опити} опита!")
        print(f"Твоите догадки бяха: {всички_догадки}")
        print(f"Най-близката беше: {min(abs(x - тайно_число) for x in всички_догадки)} разлика")
        break
else:
    print(f"\nКрай! Изчерпа 7-те опита!")
    print(f"Тайното число беше {тайно_число}")
    print(f"Твоите догадки: {всички_догадки}")
    if всички_догадки:
        най_близко = min(всички_догадки, key=lambda x: abs(x - тайно_число))
        print(f"Най-близо беше с {най_близко} (разлика {abs(най_близко - тайно_число)})")
input("\nНатисни Enter, за да излезеш...")
